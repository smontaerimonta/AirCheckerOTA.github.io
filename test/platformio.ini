[env:esp32s3-sunton]
platform = https://github.com/platformio/platform-espressif32.git
board = esp32-s3-devkitc-1
framework = arduino

; FORCE CORE 3.0
platform_packages =
    framework-arduinoespressif32 @ https://github.com/espressif/arduino-esp32.git#3.0.7
    framework-arduinoespressif32-libs @ https://github.com/espressif/esp32-arduino-libs.git#idf-release/v5.1

; CONFIGURAZIONE MEMORIA
board_upload.flash_size = 16MB
board_build.partitions = default_16MB.csv
board_build.arduino.memory_type = qio_opi 
board_build.flash_mode = qio
board_build.psram_type = opi

build_flags = 
    -D BOARD_HAS_PSRAM
    -D ARDUINO_USB_CDC_ON_BOOT=1 
    -D ARDUINO_USB_MODE=1
    -D LV_CONF_SUPPRESS_DEFINE_CHECK
    ; Non serve LV_CONF_PATH se usiamo la config interna, 
    ; ma se hai problemi col touch lascia il tuo path.
    
    ; Include path
    -I src

lib_deps = 
    lvgl/lvgl @ ^8.3.11
    adafruit/Adafruit BME280 Library @ ^2.2.4
    adafruit/Adafruit Unified Sensor @ ^1.1.14
    sparkfun/SparkFun SCD4x Arduino Library @ ^1.1.2
    sensirion/Sensirion I2C SGP40 @ ^0.1.0
    sensirion/Sensirion I2C SGP41 @ ^1.0.0
    sensirion/Sensirion Gas Index Algorithm @ ^3.2.2